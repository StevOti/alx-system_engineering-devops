#!/bin/bash

# Update system packages
sudo apt update
sudo apt upgrade -y

# Install Nginx
sudo apt install nginx -y

# Configure Nginx
sudo sed -i "/server_name _;/a \ \t add_header X-Served-By \$(hostname);" /etc/nginx/sites-available/default

# Test Nginx configuration
sudo nginx -t

# Restart Nginx
sudo systemctl restart nginx

# Verify custom header
echo "Verifying custom header:"
curl -sI localhost | grep X-Served-By
